#!/usr/bin/python2.7

import wget
import ssl
import re
import os
import string

if os.path.isfile('index.html'):
    os.system('rm index.html')

if os.path.isfile('mycss.css'):
    os.system('rm mycss.css')

if os.path.isfile('myjs.js'):
    os.system('rm myjs.js')


ssl._create_default_https_context = ssl._create_unverified_context

url = 'http://2018shell.picoctf.com:56252'
wget.download(url, 'index.html')

url = 'http://2018shell.picoctf.com:56252/mycss.css'
wget.download(url, 'mycss.css')

url = 'http://2018shell.picoctf.com:56252/myjs.js'
wget.download(url, 'myjs.js')

htmlText = ''
flag = ''

f = open('index.html', 'r')
htmlText = "\n".join(f.readlines())
f.close()

flagText = 'flag:'
end = '-->'
htmlText = re.search('<!--.*-->', htmlText).group(0)
flag += htmlText[htmlText.find(flagText) + len(flagText): htmlText.find(end)]

f = open('mycss.css', 'r')
htmlText = "\n".join(f.readlines())
f.close()

flagText = 'flag:'
end = '*/'
htmlText = re.search('/.*/', htmlText).group(0)
flag += htmlText[htmlText.find(flagText) + len(flagText): htmlText.find(end)]

f = open('myjs.js', 'r')
htmlText = "\n".join(f.readlines())
f.close()

htmlText = re.search('/.*/', htmlText).group(0)
flag += htmlText[htmlText.find(flagText) + len(flagText): htmlText.find(end)]

print '\n' + flag.replace(' ','')